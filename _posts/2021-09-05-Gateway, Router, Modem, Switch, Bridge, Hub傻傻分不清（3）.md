---
title: "Gateway, Router, Modem, Switch, Bridge, Hub傻傻分不清（3）"
date: 2021-09-05
---


书接上回，继续介绍调制解调器，集线器和网桥：

## 调制解调器Modem

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/55c35c3a37a74b9f8211dfea409300aa~tplv-k3u1fbpfcp-watermark.image)

- 调制解调器是信号转换的工具，它分为调制和解调两个功能；
- 调制(modulation)即把原信号转化成适用于传输的信号类型，而解调（demodulation）就是其反过程，两者结合实现双向通信；

- 调制解调器是物理层设备，改变的是信号传播的物理方式；

- 我们在通信中常用到的调制解调器类型：
    - 将数字信号变为无线电磁波的天线系统；
    - 将数字信号转化为光信号的光调制解调器；
    - 将数字信号转化为模拟信号的ADSL调制解调器；
    
- 比如运营商希望利用现有电话线让用户上网，那么就需要在用户家中或在运营商的机房安装调制解调器，将数字信号转化为能够在电话线上传输的模拟信号；

- 再比如光纤入户的楼宇，都需要安装光猫，将光纤信号转化为数字信号，供房间内的设备上网，因为设备一般都只能用RJ45的网线；

- 所以一般家庭网络连接互联网的连接顺序是host-->路由器-->Modem-->互联网，其中路由器+调制解调器的组合经常被称为网关；

 
## **集线器Hub**

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c34f4e73ec94c06b7d1e6367dc0adf7~tplv-k3u1fbpfcp-watermark.image)

- 集线器是最原始的通信设备，它的构造和功能都非常简单，就是解决局域网的互联互通；

- 集线器不会对数据包进行解析，单纯地进行信号放大和转发，工作在层一，物理层；

- 集线器的通信原理是，将任何端口收到的数据包，在其他n-1个端口上进行广播，一个hub即一个广播域，可以把集线器看成一个大喇叭；收到广播的主机，如果是发给自己的数据则会进行响应，如果不是给自己的数据则会丢弃；

- 进行广播时，其他端口只能收听这个数据包，其他数据包必须排队等待，所以一个hub同时也是一个冲突域；可以理解为，集线器内部只有一条公共信道，所有端口都连接到这一条公共信道上，而这条信道同时只能传递一条消息；

- 工作模式为半双工，即不能同时接收和发送；为了避免冲突，hub采用了CSMA/CD冲突规避机制；

- 集线器适用于小型网络，但因为传输效率不高，现在基本都被交换机替代了，我们接下来看看hub的升级设备--网桥；

## 网桥Bridge
在通过hub组成最初级的局域网之后，如何将多个局域网连接起来，同时又能控制冲突域？于是，网桥出现了

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/331715cc0e814a2e9823577525f43447~tplv-k3u1fbpfcp-watermark.image)

- 网桥可以识别数据帧中携带的MAC地址，是运行在层二，数据链路层的设备；

- 网桥有学习能力，内部有一张MAC地址表，记录着所连接的子网内的MAC和端口的映射关系；
- 网桥的工作机制：
    - 在源host给网桥端口广播数据帧时，网桥会将源host的MAC地址登记到桥接表中，这样就实现了MAC和端口的映射关系；
    - 当host发出一个数据帧后，到达网桥端口，网桥会解析数据帧中的目标MAC地址，并检查是否在其桥接表中；
    - 如果在桥接表，则检查是否与源MAC同属一个端口，如果属于一个端口则不转发，如果不在一个端口，则向目的端口进行广播；
    - 如果不在桥接表中，则会在其他端口进行广播；
    
- 网桥的两端分别连接两个局域网，但这两个局域网的网段必须是同一个，否则必须通过路由才能通信，所以网桥的存在实际上是扩大了局域网的物理范围；
- 和hub相比，网桥并没有缩小广播域，对于广播消息来说，同样在所有端口进行广播，因为网桥连接的仍然是同一个局域网/子网；
- 但网桥确实分割了冲突域，通过MAC识别和筛选，每个端口对应一个冲突域，这样就优化了局域网的性能，能够承载更多host；

- **网桥还具有缓存功能**，首先是采用CSMA/CD的防撞机制，而且当网桥连接的两端带宽不一样时，也需要进行缓存buffer；

说到这里，你应该已经能隐隐看到交换机的原型了，网桥是集线器的升级版，而交换机就是网桥的升级版，交换机在网桥的基础上增加了更多端口，更大的带宽，更小的冲突域，我们下一节详细讲解。


感谢阅读，如有不准确和错误之处请留言指正，我会立即修正，感谢！

<br/>
<br/>
<hr/>



总结不易，请勿私自转载，否则别怪老大爷不客气

欢迎喜欢技术的小伙伴和我交流，微信1296386616
